(function(){"use strict";angular.module("clientApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-momentjs","angularMoment","angularCharts","ui"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/about/:projectId",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/facts",{templateUrl:"views/facts.html",controller:"FactsCtrl"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("clientApp").controller("MainCtrl",["$scope","globalService","homeService","stampService","socialAnalyticService","$moment","amMoment",function(a,b,c,d,e,f,g){var h,i,j,k,l,m;return a.dataTable=[],a.myData=[],a.sticky="sticky",a.anyData=!1,a.activePage=1,a.activate=function(a){var b;return b=a,console.log(a)},a.chartType="line",a.chartConfig={title:"",tooltips:!0,labels:!1,legend:{display:!1,position:"left"},colors:["#ffd800"],innerRadius:0,lineLegend:"lineEnd"},a.chartConfigJk={title:"",tooltips:!0,labels:!1,legend:{display:!1,position:"left"},colors:["#ffd800"],innerRadius:0,lineLegend:"lineEnd"},a.chartConfigHigh={options:{chart:{type:"line",zoomType:"x"}},title:{text:"Jumlah Tweet"},xAxis:{currentMin:0,currentMax:4,minRange:1},loading:!1},j=new Date,i=f(j),h=f(j.setDate(j.getDate()-5)),i=g.applyTimezone(i).format("YYYY-MM-DD"),h=g.applyTimezone(h).format("YYYY-MM-DD"),l=function(){return d.getStamp("jokowi").then(function(){return function(b){var c,d;return d=b.data.results,c=Math.floor(Math.random()*(d.total-1+1))+1,a.jokowiStamp=d.stamps[c-1].url_medium}}(this)),d.getStamp("prabowo").then(function(){return function(b){var c,d;return d=b.data.results,c=Math.floor(Math.random()*(d.total-1+1))+1,a.prabowoStamp=d.stamps[c-1].url_medium}}(this))},k=function(){return c.get().then(function(){return function(b){var c,d,e,h,i,j,k,l,m,n,o,p,q;for(b.length>0&&(a.anyData=!0),a.homeData=b,h=[],i=[],a.twitPersonPr={},a.twitPersonJk={},p=b[0].numTweets,l=0,n=p.length;n>l;l+=1)c=p[l],d={},j=g.preprocessDate(c.key,""),e=f(j),d.x=g.applyTimezone(e).format("HH:mm"),k=[],k.push(c.count),d.y=k,d.label="test",d.tooltip="",h.push(d);for(a.twitPersonPr.series=[""],h.length>6&&(h=h.slice(0,5)),h=h.reverse(),a.twitPersonPr.data=h,q=b[1].numTweets,m=0,o=q.length;o>m;m+=1)c=q[m],d={},j=g.preprocessDate(c.key,""),e=f(j),d.x=g.applyTimezone(e).format("HH:mm"),k=[],k.push(c.count),d.y=k,d.label="test",d.tooltip="",i.push(d);return a.twitPersonJk.series=[""],i.length>6&&(i=i.slice(0,5)),i=i.reverse(),a.twitPersonJk.data=i,a.trenTwFirstPr=a.homeData[0].topTwId.slice(0,a.homeData[1].topTwId.length/2),a.trenTwSecondPr=a.homeData[0].topTwId.slice(a.homeData[1].topTwId.length/2),a.homeData[0].topWords.length>1&&(a.trenWordFirstPr=a.homeData[0].topWords[0]),a.homeData[0].topWords.length>2&&(a.trenWordSecondPr=a.homeData[0].topWords[1]),a.trenWordRestPr=a.homeData[0].topWords.slice(2,a.homeData[0].topWords.length),a.homeData[0].topLinks.length>1&&(a.trenLinkFirstPr=a.homeData[0].topLinks[0]),a.homeData[0].topLinks.length>2&&(a.trenLinkSecondPr=a.homeData[0].topLinks[1]),a.trenLinkRestPr=a.homeData[0].topLinks.slice(2,a.homeData[0].topLinks.length),a.trenTwFirstJk=a.homeData[1].topTwId.slice(0,a.homeData[1].topTwId.length/2),a.trenTwSecondJk=a.homeData[1].topTwId.slice(a.homeData[1].topTwId.length/2),a.homeData[1].topWords.length>1&&(a.trenWordFirstJk=a.homeData[1].topWords[0]),a.homeData[1].topWords.length>2&&(a.trenWordSecondJk=a.homeData[1].topWords[1]),a.trenWordRestJk=a.homeData[1].topWords.slice(2,a.homeData[1].topWords.length),a.homeData[1].topLinks.length>1&&(a.trenLinkFirstJk=a.homeData[1].topLinks[0]),a.homeData[1].topLinks.length>2&&(a.trenLinkSecondJk=a.homeData[1].topLinks[1]),a.trenLinkRestJk=a.homeData[1].topLinks.slice(2,a.homeData[1].topLinks.length)}}(this))},m=function(){return e.getStats("156691421",h,i).then(function(){return function(b){var c,d,e,f,g,h;a.hattaStats=b,f=[],a.twitPerson={},d=[],h=b.statistic;for(c in h)g=h[c],d.push(parseInt(g.followers_count));return e={},e.data=d,a.chartConfigHigh.series=[],a.chartConfigHigh.series.push(e)}}(this)),e.getStats("40580714",h,i).then(function(){return function(b){return a.prabowoStats=b}}(this)),e.getStats("366987179",h,i).then(function(){return function(b){return a.jokowiStats=b}}(this)),e.getStats("903172238",h,i).then(function(){return function(b){return a.jkStats=b}}(this))},l(),m(),k()}])}.call(this),function(){"use strict";angular.module("clientApp").controller("AboutCtrl",["$scope","$location","$routeParams",function(a,b,c){return a.projectId=c.projectId}])}.call(this),function(){"use strict";var a;a=function(){function a(a,b){a.isActive=function(a){return a===b.path()?!0:void 0}}return a}(),angular.module("clientApp").controller("IndexCtrl",["$scope","$location",a])}.call(this),function(){"use strict";var a;a=function(){function a(a,b,c){var d;this.$log=a,this.candidatePromises=b,this.$scope=c,d=function(a){return function(){return a.candidatePromises.getPromises("jw").then(function(b){return a.jwPromises=b}),a.candidatePromises.getPromises("jk").then(function(b){return a.jkPromises=b}),a.candidatePromises.getPromises("ps").then(function(b){return a.psPromises=b}),a.candidatePromises.getPromises("hr").then(function(b){return a.hrPromises=b})}}(this),d(),this.$scope.sticky="sticky"}return a}(),angular.module("clientApp").controller("FactsCtrl",["$log","candidatePromises","$scope",a])}.call(this),function(){"use strict";angular.module("clientApp").service("candidatePromises",["$http","globalService",function(a,b){var c;return c=b.getCandidateUrl(),{get:function(){return a.get(c).then(function(a){return a.data})},getPromises:function(b){return a.get(""+c+"&id_calon="+b).then(function(a){return a.data})}}}])}.call(this),function(){"use strict";angular.module("clientApp").directive("barsChart",function(){return{restrict:"E",scope:{data:"="},link:function(a,b){var c,d,e,f;return f=400,e=200,c=d3.select(b[0]).append("svg:svg").attr("width","100%").attr("height",e+30).attr("class","chart"),a.$watch("data",function(a){return null!=a?(c.selectAll("*").remove(),d(a)):void 0}),window.onresize=function(){return a.$apply()},a.$watch(function(){return angular.element(window)[0].innerWidth},function(){return"undefined"!=typeof data&&null!==data?(c.selectAll("*").remove(),d(data)):void 0}),d=function(d){var g,h,i,j,k,l;return g=f/(d.length+1),k=d3.scale.linear().domain([0,d.length]).range([0,f]),l=d3.scale.linear().domain([0,d3.max(d)]).rangeRound([0,e]),j=d3.select(b[0])[0][0].offsetWidth-20,h=35*a.data.length,i=98,c.selectAll("rect").data(d).enter().append("svg:rect").attr("x",30).attr("y",function(a,b){return 35*b}).attr("height",30).attr("width",0).attr("fill","#192531").transition().duration(1e3).attr("width",function(a){return a+"%"}),c.selectAll("text").data(d).enter().append("svg:text").attr("fill","#fff").attr("y",function(a,b){return 35*b+22}).attr("x",35).text(function(a){return a}),c.selectAll("textX").data(d).enter().append("svg:text").attr("fill","#fff").attr("y",function(a,b){return 35*b+22}).attr("x",0).text(function(a,b){return 30*(b+1)})}}}}),angular.module("clientApp").directive("sticky",["$window",function(a){return{link:function(b,c,d){var e,f,g;return e=angular.element(a),void 0===b._stickyElements&&(b._stickyElements=[],e.bind("scroll.sticky",function(){var a,c,d,f;for(d=e.scrollTop(),a=0,f=[];a<b._stickyElements.length;)c=b._stickyElements[a],!c.isStuck&&d>c.start?(c.element.addClass("stuck"),c.isStuck=!0,c.placeholder&&(c.placeholder=angular.element("<div></div>").css({height:c.element.outerHeight()+"px"}).insertBefore(c.element))):c.isStuck&&d<c.start&&(c.element.removeClass("stuck"),c.isStuck=!1,c.placeholder&&(c.placeholder.remove(),c.placeholder=!0)),f.push(a++);return f}),g=function(){var a,c,d;for(a=0,d=[];a<b._stickyElements.length;)c=b._stickyElements[a],c.isStuck?c.placeholder&&(c.start=c.placeholder.offset().top):c.start=c.element.offset().top,d.push(a++);return d},e.bind("load",g),e.bind("resize",g)),f={element:c,isStuck:!1,placeholder:void 0!==d.usePlaceholder,start:c.offset().top},b._stickyElements.push(f)}}}])}.call(this),function(){"use strict";angular.module("clientApp").service("globalService",function(){var a,b,c,d,e;return c="http://54.254.146.99/",a="927d12ca61b653468f60316514f2bb9e",b="http://api.pemiluapi.org/calonpresiden/api/promises?apiKey="+a,d="http://api.pemiluapi.org/stamps/api/stamps?apiKey="+a,e="http://api.pemiluapi.org/socmedpemilu?apiKey="+a+"&r=user/statistic",{getServerBaseUrl:function(){return c},getAppKey:function(){return a},getCandidateUrl:function(){return b},getStampUrl:function(){return d},getStatsTwitUrl:function(){return e}}})}.call(this),function(){"use strict";var a;a=function(){function a(a,b){this.$log=a,this.$http=b}var b;return b="http://54.254.146.99/home",a.prototype.get=function(){return this.$http.get(""+b).then(function(a){return a.data})},a.prototype.getData=function(a){return this.$http.get(""+b+"&id_calon="+a).then(function(a){return a.data})},a}(),angular.module("clientApp").service("homeService",["$log","$http","globalService",a])}.call(this),function(){"use strict";angular.module("clientApp").service("stampService",["$http","globalService",function(a,b){var c;return c=b.getStampUrl(),{get:function(){return a.get(c).then(function(a){return a.data})},getStamp:function(b){return a.get(""+c+"&tags="+b).then(function(a){return a.data})}}}])}.call(this),function(){"use strict";angular.module("clientApp").service("socialAnalyticService",["$http","globalService",function(a,b){var c;return c=b.getStatsTwitUrl(),{get:function(){return a.get(c).then(function(a){return a.data})},getStats:function(b,d,e){return a.get(""+c+"&user_id="+b+"&start_date="+d+"&end_date="+e).then(function(a){return a.data})}}}])}.call(this),function(){"use strict";angular.module("clientApp").filter("cutWord",function(){return function(a,b,c,d){var e;return a?(c=parseInt(c,10))?a.length<=c?a:(a=a.substr(0,c),b&&(e=a.lastIndexOf(" "),-1!==e&&(a=a.substr(0,e))),a+(d||" â€¦")):a:""}})}.call(this),function(){"use strict";angular.module("clientApp").filter("repeatRange",function(){})}.call(this);